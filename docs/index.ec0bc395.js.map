{"mappings":"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","sources":["src/modules/user.js","src/modules/firebase.js","src/modules/main.js"],"sourcesContent":["class user {\r\n   #username;\r\n   #score;\r\n\r\n    constructor(username, score) {\r\n        this.#username = username;\r\n        this.#score = score;\r\n    }\r\n\r\n    getUsername() {\r\n        return this.#username;\r\n    }\r\n\r\n    getScore() {\r\n        return this.#score;\r\n    }\r\n\r\n    setScore(score) {\r\n        this.#score = score;\r\n    }\r\n\r\n    setUserName(username) {\r\n        this.#username = username;\r\n    }\r\n}\r\n\r\nexport { user };","async function getHighscore() {\r\n  const url =\r\n    \"https://highscore-1e03a-default-rtdb.europe-west1.firebasedatabase.app/.json\";\r\n  const response = await fetch(url);\r\n  const data = await response.json();\r\n  console.log(data);\r\n  return data;\r\n}\r\n\r\n\r\nfunction displayHighscore(data) {\r\n  const highscoreList = document.querySelector(\"#highscoreList\");\r\n  highscoreList.innerHTML = \"\";\r\n\r\n  data.highscore.sort((min, max) => max.score - min.score);\r\n\r\n  data.highscore.forEach((entry) => {\r\n    const name = entry.name;\r\n    const score = entry.score;\r\n\r\n    const p = document.createElement(\"p\");\r\n    p.innerHTML = `Name: ${name}`;\r\n    p.innerHTML += `<br>Score: ${score}`;\r\n    highscoreList.appendChild(p);\r\n  });\r\n}\r\n\r\ngetHighscore().then((data) => displayHighscore(data));\r\n\r\nasync function updateObject(name, score) {\r\n  const data = await getHighscore();\r\n  let minScoreIndex = -1;\r\n  let minScore = Infinity;\r\n\r\n  for (let index in data.highscore) {\r\n    const currentScore = data.highscore[index].score;\r\n\r\n    if (currentScore < minScore) {\r\n      minScore = currentScore;\r\n      minScoreIndex = parseInt(index);\r\n    }\r\n  }\r\n\r\n  if (score > minScore) {\r\n    const url = `https://highscore-1e03a-default-rtdb.europe-west1.firebasedatabase.app/highscore/${minScoreIndex}.json`;\r\n    const response = await fetch(url, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        score: score,\r\n      }),\r\n    });\r\n    const updatedData = await response.json();\r\n    console.log(updatedData);\r\n    return updatedData;\r\n  }  \r\n}\r\n\r\nexport { updateObject, getHighscore, displayHighscore };\r\n","import { user } from \"./user.js\";\r\nimport { updateObject, getHighscore, displayHighscore } from \"./firebase.js\";\r\n\r\nlet player;\r\nlet playerScore = 0;\r\nlet playerName;\r\nlet gameActive = true;\r\n\r\nfunction computerPlay() {\r\n  const choices = [\"rock\", \"paper\", \"scissors\"];\r\n  const randomIndex = Math.floor(Math.random() * choices.length);\r\n  return choices[randomIndex];\r\n}\r\n\r\nfunction playRound(playerSelection, computerSelection) {\r\n  if (playerSelection === computerSelection) {\r\n    return \"draw\";\r\n  }\r\n\r\n  if (\r\n    (playerSelection === \"rock\" && computerSelection === \"scissors\") ||\r\n    (playerSelection === \"scissors\" && computerSelection === \"paper\") ||\r\n    (playerSelection === \"paper\" && computerSelection === \"rock\")\r\n  ) {\r\n    return \"win\";\r\n  }\r\n\r\n  return \"lose\";\r\n}\r\n\r\nfunction updateScore() {\r\n  document.getElementById(\"score\").textContent = `Score: ${playerScore}`;\r\n}\r\n\r\nfunction displayResult(result, playerSelection, computerSelection) {\r\n  let message;\r\n  if (result === \"win\") {\r\n    message = `You win! Your ${playerSelection} beats computers ${computerSelection}!`;\r\n  } else if (result === \"lose\") {\r\n    message = `You lose! Computer picked ${computerSelection} and beats your ${playerSelection}!`;\r\n  } else {\r\n    message = `It's a draw! You both picked ${playerSelection}.`;\r\n  }\r\n  document.getElementById(\"result\").textContent = message;\r\n}\r\n\r\nasync function game(playerSelection) {\r\n  if (!gameActive) {\r\n    return;\r\n  }\r\n\r\n  if (!playerName) {\r\n    document.getElementById(\"result\").textContent = \"Please enter your name\";\r\n    return;\r\n  }\r\n\r\n  const computerSelection = computerPlay();\r\n  const result = playRound(playerSelection, computerSelection);\r\n\r\n  if (result === \"win\") {\r\n    playerScore++;\r\n  } else if (result === \"lose\") {\r\n    gameActive = false;\r\n    player.setScore(playerScore);\r\n\r\n    if (playerScore > 0) {\r\n      await updateObject(player.getUsername(), player.getScore());\r\n      getHighscore().then((data) => displayHighscore(data));\r\n    }\r\n\r\n    hideBtns();\r\n    setTimeout(resetGame, 4000);\r\n  }\r\n\r\n  updateScore();\r\n  displayResult(result, playerSelection, computerSelection);\r\n}\r\n\r\ndocument.getElementById(\"addInfo\").addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n  playerName = document.getElementById(\"playerName\").value.trim();\r\n  if (!playerName) {\r\n    document.getElementById(\"result\").textContent = \"Please enter your name\";\r\n    return;\r\n  }\r\n  player = new user(playerName, 0);\r\n  document.getElementById(\r\n    \"welcome\"\r\n  ).textContent = `Welcome, ${player.getUsername()}!`;\r\n  gameActive = true;\r\n});\r\n\r\ndocument\r\n  .getElementById(\"rockBtn\")\r\n  .addEventListener(\"click\", () => game(\"rock\"));\r\ndocument\r\n  .getElementById(\"paperBtn\")\r\n  .addEventListener(\"click\", () => game(\"paper\"));\r\ndocument\r\n  .getElementById(\"scissorsBtn\")\r\n  .addEventListener(\"click\", () => game(\"scissors\"));\r\n\r\nupdateScore();\r\n\r\nfunction resetGame() {\r\n  playerScore = 0;\r\n  document.getElementById(\"playerName\").value = \"\";\r\n  welcome.innerHTML = \"\";\r\n  result.innerHTML = \"\";\r\n  score.innerHTML = \"\";\r\n}\r\n\r\nfunction hideBtns() {\r\n  addInfo.style.visibility = \"hidden\";\r\n  rockBtn.style.visibility = \"hidden\";\r\n  paperBtn.style.visibility = \"hidden\";\r\n  scissorsBtn.style.visibility = \"hidden\";\r\n  setTimeout(() => {\r\n    addInfo.style.visibility = \"visible\";\r\n    rockBtn.style.visibility = \"visible\";\r\n    paperBtn.style.visibility = \"visible\";\r\n    scissorsBtn.style.visibility = \"visible\";\r\n  }, 4000);\r\n}\r\n"],"names":["$3a64d671f9592256$export$ddb906a32562356c","username","score","constructor","this","getUsername","getScore","setScore","setUserName","async","$9b34a98e8268116b$export$324a59f4a7abce50","response","fetch","data","json","console","log","$9b34a98e8268116b$export$6ee7f7268f40aca6","highscoreList","document","querySelector","innerHTML","highscore","sort","min","max","forEach","entry","name","p","createElement","appendChild","$9b34a98e8268116b$export$41b06075337cb84b","minScoreIndex","minScore","Infinity","index","currentScore","parseInt","url","method","headers","body","JSON","stringify","updatedData","$0b88ce7c6c5c797a$var$player","then","$0b88ce7c6c5c797a$var$playerName","$0b88ce7c6c5c797a$var$playerScore","$0b88ce7c6c5c797a$var$gameActive","$0b88ce7c6c5c797a$var$updateScore","getElementById","textContent","$0b88ce7c6c5c797a$var$game","playerSelection","computerSelection","choices","Math","floor","random","length","$0b88ce7c6c5c797a$var$computerPlay","result1","$0b88ce7c6c5c797a$var$playRound","addInfo","style","visibility","rockBtn","paperBtn","scissorsBtn","setTimeout","$0b88ce7c6c5c797a$var$resetGame","message","$0b88ce7c6c5c797a$var$displayResult","value","welcome","result","addEventListener","event","preventDefault","trim"],"version":3,"file":"index.ec0bc395.js.map"}